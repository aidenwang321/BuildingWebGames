<!DOCTYPE html>
<html>

<head>
    <title>
        Chapter 3 csss
    </title>
    <style>
        .row div {
            background-color: pink;
            width: 75px;
            height: 75px;
            border: 3px solid blue;
            font-size: 32px;
            text-align: center;
            color: blue;
            float: left;
        }

        .row {
            clear: both;
        }
    </style>
</head>

<body>
    <div>
        <div class="row">
            <div id="0_0" onclick="onElementClicked(this)"></div>
            <div id="1_0" onclick="onElementClicked(this)"></div>
            <div id="2_0" onclick="onElementClicked(this)"></div>
        </div>
        <div class="row">
            <div id="0_1" onclick="onElementClicked(this)"></div>
            <div id="1_1" onclick="onElementClicked(this)"></div>
            <div id="2_1" onclick="onElementClicked(this)"></div>
        </div>
        <div class="row">
            <div id="0_2" onclick="onElementClicked(this)"></div>
            <div id="1_2" onclick="onElementClicked(this)"></div>
            <div id="2_2" onclick="onElementClicked(this)"></div>
        </div>
    </div>

    <script>
        let activeLetter = "O";
        function onElementClicked(elememt) {
            if (elememt.innerText !== "") {
                window.alert("Please click an empty block!");
                return;
            }
            elememt.innerText = activeLetter;
            if (activeLetter === "O") {
                activeLetter = "X";
            }
            else {
                activeLetter = "O";
            }
            let winnerLetter = checkWinner();
            if (winnerLetter !== "") {
                window.alert("Winner is " + winnerLetter);
            }
        }

        function checkWinner() {
            // row
            let letter = Check3Blocks("0_0", "1_0", "2_0");
            if (letter !== "") {
                return letter;
            }
            letter = Check3Blocks("0_1", "1_1", "2_1");
            if (letter !== "") {
                return letter;
            }
            letter = Check3Blocks("0_2", "1_2", "2_2");
            if (letter !== "") {
                return letter;
            }
            // column
            letter = Check3Blocks("0_0", "0_1", "0_2");
            if (letter !== "") {
                return letter;
            }
            letter = Check3Blocks("1_0", "1_1", "1_2");
            if (letter !== "") {
                return letter;
            }
            letter = Check3Blocks("2_0", "2_1", "2_2");
            if (letter !== "") {
                return letter;
            }
            // diagonal
            letter = Check3Blocks("0_0", "1_1", "2_2");
            if (letter !== "") {
                return letter;
            }
            letter = Check3Blocks("2_0", "1_1", "2_0");
            if (letter !== "") {
                return letter;
            }
                        
            return "";
        }

        function Check3Blocks(id0, id1, id2) {
            const text0 = document.getElementById(id0).innerText;
            const text1 = document.getElementById(id1).innerText;
            const text2 = document.getElementById(id2).innerText;

            if (text0 === text1 && text1 === text2) {
                return text0;
            }
            return "";
        }

    </script>
</body>

</html>